# Persistent Menu (Reply Keyboard)

## –¶–µ–ª—å
–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –º–µ–Ω—é –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ—Å–Ω–æ–≤–Ω—ã–º –¥–µ–π—Å—Ç–≤–∏—è–º.

## UI

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 [–ß–∞—Ç —Å –±–æ—Ç–æ–º]                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     ‚ú® –ï—â—ë —Å—Ç–∏–∫–µ—Ä—ã     ‚îÇ     ‚ùì –ü–æ–º–æ—â—å        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ö–Ω–æ–ø–∫–∏

| –ö–Ω–æ–ø–∫–∞ | –¢–µ–∫—Å—Ç RU | –¢–µ–∫—Å—Ç EN | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|----------|----------|----------|
| –°—Ç–∏–∫–µ—Ä—ã | ‚ú® –ï—â—ë —Å—Ç–∏–∫–µ—Ä—ã | ‚ú® More stickers | –ú–µ–Ω—é –ø–æ–∫—É–ø–∫–∏ –∫—Ä–µ–¥–∏—Ç–æ–≤ |
| –ü–æ–º–æ—â—å | ‚ùì –ü–æ–º–æ—â—å | ‚ùì Help | –°–ø—Ä–∞–≤–∫–∞ |

## –ö–æ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å

| –ú–æ–º–µ–Ω—Ç | –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é? |
|--------|----------------|
| `/start` | ‚úÖ –î–∞ |
| –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∏–∫–µ—Ä–∞ | ‚úÖ –î–∞ (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –ø–æ–∫–∞–∑–∞–Ω–æ) |
| –ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ –∫—Ä–µ–¥–∏—Ç–æ–≤ | ‚úÖ –î–∞ |

---

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –§—É–Ω–∫—Ü–∏—è –º–µ–Ω—é

```typescript
function getMainMenuKeyboard(lang: string) {
  const texts = lang === "ru" 
    ? ["‚ú® –ï—â—ë —Å—Ç–∏–∫–µ—Ä—ã", "‚ùì –ü–æ–º–æ—â—å"]
    : ["‚ú® More stickers", "‚ùì Help"];
  
  return Markup.keyboard([texts]).resize().persistent();
}
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π

```typescript
// –ï—â—ë —Å—Ç–∏–∫–µ—Ä—ã (–ø–æ–∫—É–ø–∫–∞)
bot.hears(["‚ú® –ï—â—ë —Å—Ç–∏–∫–µ—Ä—ã", "‚ú® More stickers"], async (ctx) => {
  const user = await getUser(ctx.from.id);
  if (!user) return;
  await sendBuyCreditsMenu(ctx, user);
});

// –ü–æ–º–æ—â—å
bot.hears(["‚ùì –ü–æ–º–æ—â—å", "‚ùì Help"], async (ctx) => {
  const user = await getUser(ctx.from.id);
  const lang = user?.lang || "en";
  await ctx.reply(await getText(lang, "menu.help"), getMainMenuKeyboard(lang));
});
```

### 3. –¢–µ–∫—Å—Ç—ã (texts.ts)

```typescript
"menu.help": {
  ru: "üì∑ –û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ ‚Äî –ø–æ–ª—É—á–∏ —Å—Ç–∏–∫–µ—Ä\nüí∞ –ö–∞–∂–¥—ã–π —Å—Ç–∏–∫–µ—Ä = 1 –∫—Ä–µ–¥–∏—Ç\nüé® –í—ã–±–∏—Ä–∞–π —Å—Ç–∏–ª–∏ –∏ —ç–º–æ—Ü–∏–∏\n\n–í–æ–ø—Ä–æ—Å—ã? @p2s_support_bot",
  en: "üì∑ Send photo ‚Äî get sticker\nüí∞ Each sticker = 1 credit\nüé® Choose styles and emotions\n\nQuestions? @p2s_support_bot"
}
```

### 4. –ü–æ–∫–∞–∑ –≤ /start

```typescript
bot.command("start", async (ctx) => {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ ...
  
  // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –º–µ–Ω—é
  await ctx.reply(welcomeText, getMainMenuKeyboard(lang));
});
```

---

## –ß–µ–∫–ª–∏—Å—Ç

- [x] –û–±–Ω–æ–≤–∏—Ç—å `getMainMenuKeyboard(lang)` ‚Äî 2 –∫–Ω–æ–ø–∫–∏ –≤–º–µ—Å—Ç–æ 3
- [x] –ü–æ–∫–∞–∑ –º–µ–Ω—é –≤ `/start`
- [x] `bot.hears()` –¥–ª—è "‚ú® –ï—â—ë —Å—Ç–∏–∫–µ—Ä—ã" / "‚ú® More stickers"
- [x] `bot.hears()` –¥–ª—è "‚ùì –ü–æ–º–æ—â—å" / "‚ùì Help"
- [x] –£–¥–∞–ª–∏—Ç—å handler –¥–ª—è "üì∑ –§–æ—Ç–æ" / "üì∑ Photo"
- [x] –£–¥–∞–ª–∏—Ç—å handler –¥–ª—è "üí∞ –ë–∞–ª–∞–Ω—Å" / "üí∞ Balance"
- [x] –£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—Å—Ç `menu.send_photo` –∏–∑ texts.ts
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
